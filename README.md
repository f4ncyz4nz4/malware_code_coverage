# Malware Code Coverage Project

- [Malware Code Coverage Project](#malware-code-coverage-project)
  - [Abstract](#abstract)
  - [Requirements](#requirements)
    - [Settings](#settings)
  - [Run command](#run-command)

## Abstract
When you run a sample, you're running about 30-40% of its code on average. This comes often attributed to the fact that there are many alternative basic blocks in each function, all error conditions, exceptions, etc. But from this number it is not really clear if the execution is being lost large monolithic chunks of code. We implemented a more fine-grained measure of coverage, after instrumenting to capture the executed basic-blocks, we compared against all code in memory intelligently.
  
## Requirements
```bash
pip install -r requirements.txt
```
### Settings
- Set environment variable `GHIDRA_INSTALL_DIR` as directory where [Ghidra](https://github.com/NationalSecurityAgency/ghidra/) is installed
- Compile [nucleus](https://github.com/f4ncyz4nz4/nucleus) using `make`
- For each `minidump`, also a `trace` and the `binary` must be provided, all with same name.

## Run command
```bash
python coverage.py <minidump_file>
```